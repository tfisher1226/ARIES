<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"	
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<c:if test="#{empty immediate}">
		<c:set var="immediate" value="true"/> 
	</c:if>

	<c:if test="#{empty ajaxSingle}">
		<c:set var="ajaxSingle" value="true"/> 
	</c:if>

	<c:if test="#{empty requestDelay}">
		<c:set var="requestDelay" value="0"/> 
	</c:if>

	<c:if test="#{empty bypassUpdates}">
		<c:set var="bypassUpdates" value="true"/> 
	</c:if>

	<c:if test="#{empty limitToList}">
		<c:set var="limitToList" value="true"/> 
	</c:if>

	<c:if test="#{empty labelStyle}">
		<c:set var="labelStyle" value="font-size: 11.4px; font-weight: normal; color: black"/> 
	</c:if>

	<c:if test="#{empty labelClass}">
		<c:set var="labelClass" value=""/> 
	</c:if>

	<c:if test="#{empty styleClass}">
		<c:set var="styleClass" value=""/> 
	</c:if>
	
	<rich:treeNode
		type="#{nodeType}"
		dragType="dragType"
		icon="#{icon}"
		iconLeaf="#{iconLeaf}"
		immediate="#{immediate}"
		ajaxSingle="#{ajaxSingle}"
		requestDelay="#{requestDelay}"	
		bypassUpdates="#{bypassUpdates}"
		limitToList="#{limitToList}"
		acceptedTypes="#{acceptedTypes}"
		dropListener="#{dropListener}"
		oncontextmenu="#{oncontextmenu}"
		ondblclick="#{ondblclick}"
		oncomplete="#{oncomplete}"
		reRender="#{reRender}"
		nodeClass="treeNode"
		styleClass="#{styleClass}"
		style="">

		<h:outputText value="#{item.label}" style="" />

		<!--  
		<c:if test="#{not empty oncontextmenu}">
			<a4j:region renderRegionOnly="true">
				<a4j:support event="oncontextmenu" 
					immediate="true"
					ajaxSingle="true"
					requestDelay="0"
					bypassUpdates="true"
					limitToList="true"
					onsubmit="#{oncontextmenu}">
				</a4j:support>
			</a4j:region>
		</c:if>
		-->

		<!-- 
		<c:if test="#{not empty ondblclick}">
			<a4j:region immediate="true">
			<a4j:support event="onRowDblClick" 
				immediate="false"
				requestDelay="0"
				ajaxSingle="false"
				bypassUpdates="false"
				limitToList="false"
				process="elementDialog"
				action="#{elementManager.editElement}"
				onsubmit="alert(8); setCursorWait(); showProgress('Element', 'Preparing for edit...')"
				oncomplete="setCursorDefault(); hideProgress(); Richfaces.showModalPanel('elementDialog')"
				reRender="elementDialog">
			</a4j:support>
			</a4j:region>
		</c:if>
		-->
			
		<!--  
		<c:if test="#{not empty ondblclick}">
			<a4j:region renderRegionOnly="false">
				<a4j:support event="ondblclick" 
					immediate="true"
					ajaxSingle="false"
					requestDelay="0"
					bypassUpdates="false"
					limitToList="true"
					action="#{manager[action]}"
					process="elementDialog"
					oncomplete="#{ondblclick}"
					reRender="elementDialog">
				</a4j:support>
			</a4j:region>
		</c:if>
		
		renderElementDialog()
		onselected="selectObject('#{item.label}'); #{oncomplete}"

		<a4j:region renderRegionOnly="true">
			<a4j:support event="onclick" 
				immediate="true"
				ajaxSingle="true"
				requestDelay="0"
				bypassUpdates="true"
				limitToList="true">
				<a4j:actionparam value="#{item.object}" assignTo="#{nam.selectedDomain}"/>
				<a4j:actionparam value="#{item.object}" assignTo="#{domainManager.domain}"/>
			</a4j:support>
		</a4j:region>

		<a4j:support 
			event="onclick" 
			requestDelay="0"
			immediate="true"
			ajaxSingle="true"
			bypassUpdates="true"
			oncomplete="showInformationDomainView('elementPanel')"
			reRender="elementPanel">
			<a4j:actionparam value="#{item.object}" assignTo="#{element}"/>
		</a4j:support>

		<rich:componentControl event="onclick" name="showInformationDomainView"  operation="show">
		   <f:param name="param1" value="elementPanel"/>
		</rich:componentControl>
		-->

		<!--  
		onclick="#{onclick}; selectObject('#{item.object}')"
		onclick="#{onclick}; selectObject('#{nam.informationTreeMap.get(item.object)}'); alert(9)"
		-->

	</rich:treeNode>
</ui:composition>
