<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"	
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:aries="http://aries.org/jsf">

	<c:if test="#{empty width}">
		<c:set var="width" value="52" /> 
	</c:if>

	<aries:button
		id="#{id}"
		icon="#{icon}"
		width="52"
		height="auto"
		padding="6"
		fontSize="13"
		label="#{label}"
		backgroundColor="inherit"
    	immediate="true"
    	bypassUpdates="true"
    	limitRender="true"
		execute="@none"
		onmousedown="#{onmousedown}; replaceContent('popupMenuHandle', '#{panel}')"
		onmouseup="#{onmouseup}"
		oncomplete="#{oncomplete}"
		render="#{render}"
		style="border: 1px solid #ccc; #{style}"
		offset="false">

		<rich:componentControl event="click" operation="show" target="PopupMenu">
			<a4j:param name="event" value="event" noEscape="true" />
			<rich:hashParam>
				<a4j:param noEscape="true" name="top"
					value="jQuery(#{rich:element(id)}.parentNode).offset().top + jQuery(#{rich:element(id)}.parentNode).height() - 1" />
				<a4j:param noEscape="true" name="left"
					value="jQuery(#{rich:element(id)}.parentNode).offset().left + 1" />
			</rich:hashParam>
		</rich:componentControl>
	</aries:button>
		
	<!--  
	<aries:dropDownMenu 
		label="#{label}"
		icon="#{icon}"
		width="#{width}"
		fontSize="14"
		style="#{style}">
		
		<aries:menuItem
			id="resetItem" 
			name="reset"
			value="Reset"
			tooltip="Reset server-side user-state"
			icon="/icons/common/refresh-document.gif"
			execute="@this"
			manager="#{adminManager}"
			action="reset"
			onclick="setCursorWait(this); showProgress('BOOKSHOP', 'Server-side user-state', 'Resetting...')"
			oncomplete="setCursorDefault(this); hideProgress()" 
			render="nothing" />
			
		<aries:menuItem 
			value="About..."
			tooltip="About the BOOKSHOP2 Application"
			icon="/icons/common/Speak16.gif"
			rendered="true"
			mode="client"
			execute="@none"
			onclick="popupAlert('BOOKSHOP2', 'System Online', 'The Bookshop system includes 4 applications\nBuyer, Seller, Supplier, and Shipper')" />
	</aries:dropDownMenu>
	-->
</ui:composition>
