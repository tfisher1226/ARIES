<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:aries="http://aries.org/jsf">
	
	<a4j:region>
	
	
	<!--
		  ** showRoleListPage()
		  ** Goes to the Role Management List Page.
	  -->
	
	<a4j:jsFunction
			name="showRoleListPage" 
		execute="@this"
		immediate="true"
		bypassUpdates="true"
			action="#{rolePageManager.initializeRoleListPage}"
			onbegin="setCursorWait(event.source); showProgress('Nam', 'Role Records', 'Preparing Role List...')">
	</a4j:jsFunction>
	
	
	<!--
		  ** showRoleTreePage()
		  ** Goes to the Role Management Tree Page.
	  -->
	
	<a4j:jsFunction
			name="showRoleTreePage" 
		execute="@this"
		immediate="true"
		bypassUpdates="true"
			action="#{rolePageManager.initializeRoleTreePage}"
			onbegin="setCursorWait(event.source); showProgress('Nam', 'Role Records', 'Preparing Role Tree...')">
	</a4j:jsFunction>
	
	
	<!--
		  ** showRoleManagementPage()
		  ** Goes to the Role Management Overview Page.
	  -->
	
	<a4j:jsFunction
			name="showRoleManagementPage" 
		execute="@this"
		immediate="true"
		bypassUpdates="true"
			action="#{rolePageManager.initializeRoleManagementPage}"
			onbegin="setCursorWait(event.source); showProgress('Nam', 'Role Records', 'Preparing Role related information...')">
	</a4j:jsFunction>
	
	
	<!--
		  ** showRoleWizardPage()
		  ** Goes to the Role Wizard Page.
	  -->
	
	<a4j:jsFunction
			name="showRoleWizardPage" 
		execute="@this"
		immediate="true"
		bypassUpdates="true"
			action="#{roleWizard.refresh}"
			onbegin="setCursorWait(event.source); showProgress('Nam', 'Role Records', 'Preparing Role information...')">
		
			<!-- these values are passed-in -->
			<a4j:param name="section" assignTo="#{roleWizard.section}" />
			
			<!-- these values are assigned here -->
			<a4j:param name="origin" value="#{selectionContext.origin}" assignTo="#{roleWizard.origin}" />
	</a4j:jsFunction>
	
	
	<!--
		  ** showNewRoleDialog()
		  ** Launches the Role Dialog in "new" mode.
	  -->
	
	<a4j:jsFunction
			name="showNewRoleDialog" 
		execute="@this"
		immediate="true"
		bypassUpdates="true"
		limitRender="true"
			action="#{roleInfoManager.newRole}"
			onbegin="setCursorWait(event.source); showProgress('Nam', 'Role Records', 'Creating new Role...')"
			oncomplete="setCursorDefault(this); hideProgress(); showRoleDialog()"
			render="roleModule, roleDialog">
			
			<!-- these values are assigned here -->
			<a4j:param name="targetDomain" value="#{section}" assignTo="#{roleInfoManager.targetDomain}" />
			<a4j:param name="targetField" value="roleListPane" assignTo="#{roleInfoManager.targetField}" />
			<a4j:param name="targetInstance" value="#{instanceName}" assignTo="#{roleInfoManager.targetInstance}" />
	</a4j:jsFunction>
	
	
	<!--
		  ** showEditRoleDialog()
		  ** Launches the Role Dialog in "edit" mode.
	  -->
	
	<a4j:jsFunction
			name="showEditRoleDialog" 
			execute="@this"
		immediate="true"
		bypassUpdates="true"
		limitRender="true"
			action="#{roleInfoManager.editRole}"
			onbegin="setCursorWait(event.source); showProgress('Nam', 'Role Records', 'Preparing Role information...')"
			oncomplete="setCursorDefault(this); hideProgress(); showRoleDialog()"
			render="roleModule, roleDialog">
			
			<!-- these values are assigned here -->
			<a4j:param name="targetDomain" value="#{section}" assignTo="#{roleInfoManager.targetDomain}" />
			<a4j:param name="targetField" value="roleListPane" assignTo="#{roleInfoManager.targetField}" />
			<a4j:param name="targetInstance" value="#{instanceName}" assignTo="#{roleInfoManager.targetInstance}" />
	</a4j:jsFunction>
	</a4j:region>
</ui:composition>
