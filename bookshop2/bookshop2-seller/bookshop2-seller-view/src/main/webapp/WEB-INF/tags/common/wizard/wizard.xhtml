<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"	
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:s="http://jboss.com/schema/seam/taglib"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:aries="http://aries.org/jsf">

	<aries:tag param="domain">
		<c:if test="#{empty autosized}">
			<c:set var="autosized" value="false"/> 
		</c:if>
	
		<c:if test="#{empty moveable}">
			<c:set var="moveable" value="true"/> 
		</c:if>
		
		<c:if test="#{empty wizardWidth}">
			<c:set var="wizardWidth" value="464"/> 
		</c:if>
		
		<c:if test="#{empty wizardHeight}">
			<c:set var="wizardHeight" value="400"/> 
		</c:if>
	
		<c:if test="#{empty keepVisualState}">
			<c:set var="keepVisualState" value="true"/> 
		</c:if>
		
		<rich:popupPanel 
			id="#{wizardName}" 
			width="#{wizardWidth}" 
			height="#{wizardHeight}" 
			autosized="#{autosized}" 
			moveable="#{moveable}"
			keepVisualState="#{keepVisualState}">
	
			<!-- TITLE -->
			<aries:dialogTitleBar
				title="#{bean.title}"/>
		
			<h:panelGroup id="#{wizardPanel}" layout="block">
		
				<!-- HEADER -->
				<h:panelGrid columns="2" columnClasses="dialogHeaderColumn1, dialogHeaderColumn2" 
					style="width: 100%; vertical-align: top; border-bottom: 1px solid #bbb; background-color: white;">
					
					<h:panelGroup layout="block" style="padding: 6px">
						<h:outputText value="#{bean.title}" styleClass="dialogTitle" style="font-size: 16px; font-weight: bold"/>
		
						<!-- MESSAGES -->
						<aries:messages 
							id="#{wizardMessages}"  
							module="#{wizardName}"/>
					</h:panelGroup>
		
					<c:if test="#{not empty dialogIcon}">
						<h:panelGroup layout="block" style="">
							<h:graphicImage value="#{dialogIcon}"/>
						</h:panelGroup>
					</c:if>
				</h:panelGrid>
				
				<div style="display: block; width: 100%; height: 1px; background-color: #fff"/>
		
				<!-- CONTENT -->
				<h:form id="#{wizardForm}">
					<h:panelGroup layout="block" style="width: #{wizardWidth}px; height: #{wizardHeight-110}px; background-color: inherit">
						<h:panelGroup layout="block" style="width: #{wizardWidth-24}px; height: #{wizardHeight-150}px; margin: 10px 12px 10px 12px; background-color: inherit">
	
							<!-- PAGES -->
							<ui:insert/>
						</h:panelGroup>
					
						<!-- CONTROL -->
						<h:panelGroup layout="block" style="width: #{wizardWidth}px; height: 50px; background-color: inherit">
							<div style="display: block; width: 100%; height: 1px; background-color: #bbb"/>
							<div style="display: block; width: 100%; height: 1px; background-color: #fff"/>
							<div style="display: block; width: 100%; height: 12px"/>
							<div style="display: block; width: #{wizardWidth-18}px; height: 24px; padding: 0px 10px 0px 8px">
								<ui:include src="wizardControl.xhtml" />
							</div>
						</h:panelGroup>
					</h:panelGroup>
				</h:form>
			</h:panelGroup>
		</rich:popupPanel>
	</aries:tag>
</ui:composition>
